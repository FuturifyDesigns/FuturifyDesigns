<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Therapists - MindEase</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }

        /* Disable custom cursor on mobile devices */
        @media (hover: hover) and (pointer: fine) {
            * {
                cursor: none !important;
            }
        }

        @media (hover: none) and (pointer: coarse) {
            * {
                cursor: auto !important;
            }
            
            .cursor,
            .click-effect {
                display: none !important;
            }
        }

        :root {
            --primary-teal: #006064;
            --secondary-teal: #00838f;
            --accent-teal: #00acc1;
            --light-teal: #80deea;
            --lighter-teal: #b2ebf2;
            --lightest-teal: #e0f7fa;
            --text-primary: #ffffff;
            --text-secondary: #b3e5fc;
            --glass-bg: rgba(255, 255, 255, 0.08);
            --success-green: #4caf50;
            --warning-orange: #ff9800;
            --error-red: #f44336;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #006064 0%, #00838f 25%, #00acc1 50%, #80deea 75%, #e0f7fa 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes float3D {
            0%, 100% { transform: translateY(0px) rotateX(0deg) rotateY(0deg); }
            50% { transform: translateY(-20px) rotateX(5deg) rotateY(2deg); }
        }

        @keyframes pulse3D {
            0%, 100% { transform: scale(1) rotateZ(0deg); }
            50% { transform: scale(1.05) rotateZ(1deg); }
        }

        @keyframes cardHover3D {
            0% { transform: perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px); }
            100% { transform: perspective(1000px) rotateX(-5deg) rotateY(5deg) translateZ(20px); }
        }

        @keyframes aiThinking {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        @keyframes clickBurst {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.2) rotate(180deg);
                opacity: 0.8;
            }
            100% {
                transform: scale(2) rotate(360deg);
                opacity: 0;
            }
        }

        /* High-Performance Custom Cursor */
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(0, 54, 58, 0.6);
            pointer-events: none;
            z-index: 99999;
            transform: translate3d(-50%, -50%, 0);
            transition: width 0.15s ease, height 0.15s ease, background 0.15s ease;
            mix-blend-mode: difference;
            will-change: transform;
            backface-visibility: hidden;
            perspective: 1000px;
        }

        .cursor.hover {
            width: 32px;
            height: 32px;
            background: rgba(0, 54, 58, 0.8);
        }

        .cursor.text {
            width: 3px;
            height: 25px;
            border-radius: 2px;
            background: rgba(0, 54, 58, 0.9);
        }

        .cursor.clicking {
            width: 16px;
            height: 16px;
            background: rgba(0, 54, 58, 1);
        }

        /* Click Effect */
        .click-effect {
            position: fixed;
            pointer-events: none;
            z-index: 99998;
        }

        .click-ripple {
            position: absolute;
            border-radius: 50%;
            border: 2px solid rgba(0, 54, 58, 0.8);
            animation: ripple 0.6s linear;
            transform: scale(0);
        }

        .click-burst {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, rgba(0, 54, 58, 0.8) 0%, rgba(0, 54, 58, 0) 70%);
            border-radius: 50%;
            animation: clickBurst 0.8s ease-out;
        }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 50px;
            background: rgba(0, 96, 100, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .navbar.scrolled {
            padding: 15px 50px;
            background: rgba(0, 96, 100, 0.98);
        }

        .logo {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--lightest-teal), var(--light-teal));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
            filter: brightness(1.2);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
            align-items: center;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 10px 20px;
            border-radius: 25px;
            position: relative;
            overflow: hidden;
            display: block;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .nav-link.active {
            color: var(--text-primary);
            background: rgba(0, 172, 193, 0.3);
        }

        .nav-link:hover {
            color: var(--text-primary);
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-link:hover::before {
            left: 100%;
        }

        .cta-button {
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--secondary-teal), var(--accent-teal));
            border: none;
            border-radius: 50px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            display: block;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .cta-button:hover {
            transform: translateY(-3px) scale(1.05);
            color: white;
            box-shadow: 0 10px 25px rgba(0, 172, 193, 0.3);
        }

        .cta-button:hover::before {
            width: 300px;
            height: 300px;
        }

        /* Page Header */
        .page-header {
            padding: 150px 50px 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse3D 6s ease-in-out infinite;
        }

        .page-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 4rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, var(--lightest-teal) 30%, var(--light-teal) 70%, var(--accent-teal) 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            animation: slideInLeft 1s ease forwards;
        }

        .page-subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            animation: slideInRight 1s ease forwards 0.2s;
            opacity: 0;
        }

        /* Filters Section */
        .filters-container {
            padding: 0 50px 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .filters-section {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 40px;
            animation: fadeInUp 1s ease forwards 0.4s;
            opacity: 0;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .filter-select {
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: var(--text-primary);
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent-teal);
            background: rgba(255, 255, 255, 0.15);
        }

        .filter-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .filter-button {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-button.primary {
            background: linear-gradient(135deg, var(--secondary-teal), var(--accent-teal));
            color: white;
        }

        .filter-button.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .filter-button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 172, 193, 0.3);
        }

        /* Therapists Container */
        .therapists-container {
            padding: 0 50px 100px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .therapists-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 40px;
            margin-top: 40px;
        }

        .therapist-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 40px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            animation: float3D 8s ease-in-out infinite;
            perspective: 1000px;
            transform-style: preserve-3d;
            will-change: transform;
        }

        .therapist-card:nth-child(even) {
            animation-delay: 2s;
        }

        .therapist-card:nth-child(3n) {
            animation-delay: 4s;
        }

        .therapist-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(0, 172, 193, 0.3), transparent);
            border-radius: 27px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .therapist-card:hover {
            transform: perspective(1000px) rotateX(-5deg) rotateY(5deg) translateZ(20px);
            box-shadow: 0 30px 60px rgba(0, 172, 193, 0.3);
            animation: none;
        }

        .therapist-card:hover::before {
            opacity: 1;
        }

        .therapist-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .therapist-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary-teal), var(--accent-teal));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .therapist-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .therapist-info h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'Space Grotesk', sans-serif;
            margin-bottom: 5px;
        }

        .therapist-credentials {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .therapist-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--warning-orange);
        }

        .therapist-specialties {
            margin-bottom: 20px;
        }

        .specialty-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .specialty-tag {
            background: rgba(0, 172, 193, 0.2);
            color: var(--lightest-teal);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            border: 1px solid rgba(0, 172, 193, 0.3);
        }

        .therapist-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 25px;
            font-size: 0.95rem;
        }

        .therapist-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .detail-item i {
            color: var(--accent-teal);
            width: 16px;
            text-align: center;
        }

        .therapist-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .therapist-button {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
            font-size: 0.9rem;
        }

        .therapist-button.primary {
            background: linear-gradient(135deg, var(--secondary-teal), var(--accent-teal));
            color: white;
        }

        .therapist-button.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .therapist-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 172, 193, 0.3);
        }

        .therapist-button.primary:hover {
            color: white;
        }

        .therapist-button.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            color: var(--text-primary);
        }

        /* AI Chatbot Styles */
        .ai-chatbot {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--secondary-teal), var(--accent-teal));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            transition: all 0.3s ease;
            z-index: 10001;
            animation: float3D 4s ease-in-out infinite;
            box-shadow: 0 10px 30px rgba(0, 172, 193, 0.3);
        }

        .ai-chatbot:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0, 172, 193, 0.5);
        }

        .ai-chatbot.thinking {
            animation: aiThinking 0.8s ease-in-out infinite;
        }

        .chat-modal {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 400px;
            max-height: 550px;
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            display: none;
            flex-direction: column;
            z-index: 10002;
            transform: scale(0.8) translateY(50px);
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .chat-modal.show {
            display: flex;
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .chat-status {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .chat-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            transition: all 0.3s ease;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-close:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(0, 172, 193, 0.5);
            border-radius: 3px;
        }

        .chat-message {
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 85%;
            animation: fadeInUp 0.3s ease;
            word-wrap: break-word;
            line-height: 1.4;
            font-size: 0.95rem;
        }

        .chat-message.user {
            background: linear-gradient(135deg, var(--accent-teal), var(--light-teal));
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .chat-message.ai {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .typing-indicator {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 18px;
            padding: 12px 18px;
            display: none;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent-teal);
            animation: typingBounce 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 18px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
            resize: none;
            min-height: 20px;
            max-height: 80px;
            overflow-y: auto;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-teal);
            background: rgba(255, 255, 255, 0.15);
        }

        .chat-input::placeholder {
            color: var(--text-secondary);
        }

        .chat-send {
            padding: 12px 18px;
            background: linear-gradient(135deg, var(--secondary-teal), var(--accent-teal));
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 50px;
        }

        .chat-send:hover {
            transform: translateY(-2px) scale(1.05);
        }

        .chat-send:disabled {
            opacity: 0.5;
            transform: none;
        }

        .notification {
            position: fixed;
            top: 100px;
            right: 30px;
            background: linear-gradient(135deg, var(--secondary-teal), var(--accent-teal));
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            transform: translateX(400px);
            transition: transform 0.4s ease;
            z-index: 10001;
            max-width: 350px;
            box-shadow: 0 10px 30px rgba(0, 172, 193, 0.3);
        }

        .notification.show {
            transform: translateX(0);
        }

        .ai-insights {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px 20px;
            color: var(--text-primary);
            font-size: 0.9rem;
            max-width: 300px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.3s ease;
            z-index: 10000;
        }

        .ai-insights.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Booking Modal */
        .booking-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .booking-modal.show {
            display: flex;
            opacity: 1;
        }

        .booking-content {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }

        .booking-modal.show .booking-content {
            transform: scale(1);
        }

        .booking-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .booking-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .booking-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            transition: all 0.3s ease;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .booking-close:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        .booking-form {
            display: grid;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        .form-input {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: var(--text-primary);
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-teal);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-input::placeholder {
            color: var(--text-secondary);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .booking-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--primary-teal) 0%, var(--secondary-teal) 50%, var(--accent-teal) 100%);
            color: var(--text-primary);
            padding: 0;
            margin-top: 100px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.08) 0%, transparent 70%);
            animation: footerGlow 25s linear infinite;
            pointer-events: none;
        }

        @keyframes footerGlow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .footer-wave {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"><path d="M0,60 C200,20 400,100 600,60 C800,20 1000,100 1200,60 L1200,0 L0,0 Z" fill="rgba(224,247,250,0.1)"/></svg>');
            background-size: cover;
            animation: waveMove 15s ease-in-out infinite;
        }

        @keyframes waveMove {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(-50px); }
        }

        .footer-main {
            padding: 120px 50px 0;
            position: relative;
            z-index: 2;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1.5fr;
            gap: 60px;
            position: relative;
            z-index: 1;
        }

        .footer-brand {
            max-width: 400px;
        }

        .footer-logo {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--lightest-teal), white, var(--light-teal));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
        }

        .footer-description {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.9);
            opacity: 0;
            animation: fadeInUp 1s ease forwards 0.3s;
        }

        .therapist-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--lightest-teal);
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .footer-section {
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
        }

        .footer-section:nth-child(2) { animation-delay: 0.2s; }
        .footer-section:nth-child(3) { animation-delay: 0.4s; }
        .footer-section:nth-child(4) { animation-delay: 0.6s; }

        .footer-section h3 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--lightest-teal);
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: 15px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 0;
        }

        .footer-links a:hover {
            color: var(--lightest-teal);
            transform: translateX(8px);
        }

        .footer-links a i {
            width: 18px;
            text-align: center;
            color: var(--light-teal);
        }

        .footer-bottom {
            background: rgba(0, 0, 0, 0.2);
            text-align: center;
            padding: 40px 50px;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
        }

        @media (max-width: 768px) {
            /* Mobile Navigation Fix - prevent overflow */
            .navbar {
                padding: 12px 10px !important;
                flex-wrap: nowrap !important;
                overflow-x: hidden !important;
                display: flex !important;
                align-items: center !important;
            }

            .logo {
                font-size: 1.2rem !important;
                flex-shrink: 0 !important;
                margin-right: 8px !important;
            }

            .nav-links {
                display: flex !important;
                flex-wrap: nowrap !important;
                overflow-x: auto !important;
                -webkit-overflow-scrolling: touch !important;
                gap: 3px !important;
                padding: 0 !important;
                margin: 0 !important;
                flex: 1 !important;
                scrollbar-width: none !important;
                max-width: calc(100% - 150px) !important;
            }

            .nav-links::-webkit-scrollbar {
                display: none !important;
            }

            .nav-link {
                font-size: 0.75rem !important;
                padding: 6px 10px !important;
                margin: 0 !important;
                white-space: nowrap !important;
                flex-shrink: 0 !important;
            }

            .cta-button {
                font-size: 0.8rem !important;
                padding: 6px 12px !important;
                white-space: nowrap !important;
                flex-shrink: 0 !important;
            }

            /* Footer overflow fix */
            .footer {
                overflow-x: hidden !important;
                width: 100% !important;
            }

            .footer-content {
                width: 100% !important;
                max-width: 100% !important;
            }

            .footer-section {
                width: 100% !important;
            }

            .footer-bottom {
                overflow: hidden !important;
                width: 100% !important;
            }

            .footer-bottom-content {
                width: 100% !important;
            }


            .therapists-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .page-title {
                font-size: 2.5rem;
            }

            .therapist-card {
                padding: 30px;
            }

            .navbar {
                padding: 15px 20px;
            }

            .nav-links {
                gap: 15px;
            }

            .chat-modal {
                width: 350px;
                right: 20px;
            }

            .filters-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ============================================
           COMPREHENSIVE MOBILE RESPONSIVE FIXES
           ============================================ */
        
        @media (max-width: 768px) {
            /* Remove blue tap highlights */
            *, *::before, *::after {
                -webkit-tap-highlight-color: transparent !important;
                -webkit-touch-callout: none !important;
                tap-highlight-color: transparent !important;
            }

            /* Disable custom cursor */
            .cursor,
            .click-effect,
            .click-ripple,
            .click-burst {
                display: none !important;
            }

            body {
                font-size: 14px;
            }

            .container {
                width: 100%;
                padding: 0 15px;
            }

            /* Navbar */
            .navbar {
                padding: 12px 15px;
            }

            .logo {
                font-size: 1.3rem;
            }

            .nav-link {
                font-size: 0.85rem;
                padding: 8px 12px;
            }

            .cta-button {
                padding: 8px 16px;
                font-size: 0.85rem;
            }

            /* Page header */
            .page-header {
                padding: 100px 20px 60px;
            }

            .page-title {
                font-size: 2rem;
                margin-bottom: 12px;
            }

            .page-subtitle {
                font-size: 0.95rem;
            }

            /* Search section */
            .search-section {
                padding: 30px 20px;
            }

            .search-container {
                flex-direction: column;
                gap: 12px;
            }

            .search-input {
                width: 100%;
                padding: 12px 15px;
                font-size: 0.9rem;
            }

            .search-button {
                width: 100%;
                padding: 12px 20px;
                font-size: 0.9rem;
            }

            /* Filters */
            .filters {
                padding: 20px 15px;
            }

            .filters-grid {
                grid-template-columns: 1fr !important;
                gap: 12px;
            }

            .filter-group label {
                font-size: 0.85rem;
            }

            .filter-select {
                padding: 10px 12px;
                font-size: 0.9rem;
            }

            /* Therapist cards - significantly reduced size */
            .therapists-grid {
                grid-template-columns: 1fr !important;
                gap: 15px;
                padding: 20px 15px;
            }

            .therapist-card {
                padding: 20px;
                transform: scale(0.95);
            }

            .therapist-photo {
                width: 80px !important;
                height: 80px !important;
                border-radius: 50% !important;
                object-fit: cover !important;
                aspect-ratio: 1 / 1 !important;
                margin-bottom: 12px;
            }

            .therapist-name {
                font-size: 1.1rem;
                margin-bottom: 5px;
            }

            .therapist-specialty {
                font-size: 0.8rem;
                margin-bottom: 8px;
            }

            .therapist-info {
                gap: 8px;
                margin: 10px 0;
            }

            .info-item {
                font-size: 0.75rem;
            }

            .therapist-bio {
                font-size: 0.85rem;
                line-height: 1.4;
                margin-bottom: 12px;
            }

            .specialties {
                gap: 6px;
                margin-bottom: 12px;
            }

            .specialty-tag {
                padding: 5px 10px;
                font-size: 0.7rem;
            }

            .therapist-actions {
                flex-direction: column;
                gap: 8px;
            }

            .btn-primary,
            .btn-secondary {
                width: 100%;
                padding: 10px 18px;
                font-size: 0.85rem;
            }

            /* Stats section */
            .stats-section {
                padding: 30px 20px;
            }

            .stats-grid {
                grid-template-columns: 1fr !important;
                gap: 15px;
            }

            .stat-card {
                padding: 20px;
            }

            .stat-number {
                font-size: 2rem;
            }

            .stat-label {
                font-size: 0.85rem;
            }

            /* Chat Modal */
            .chat-modal {
                position: fixed !important;
                width: calc(100vw - 20px) !important;
                max-width: 380px !important;
                height: 500px !important;
                max-height: calc(100vh - 140px) !important;
                right: 10px !important;
                bottom: 85px !important;
            }

            .chat-header {
                padding: 15px;
            }

            .chat-messages {
                flex: 1;
                padding: 15px;
                -webkit-overflow-scrolling: touch;
            }

            .message {
                max-width: 85%;
                padding: 10px 14px;
                font-size: 0.85rem;
            }

            .chat-input-container {
                padding: 12px;
            }

            .chat-input {
                font-size: 0.9rem;
                padding: 10px 45px 10px 12px;
            }

            /* AI Chatbot */
            .ai-chatbot {
                width: 60px !important;
                height: 60px !important;
                right: 15px !important;
                bottom: 15px !important;
                font-size: 1.6rem !important;
            }

            /* Footer */
            .footer {
                padding: 30px 20px;
            }

            .footer-content {
                flex-direction: column;
            }

            .footer-section h3 {
                font-size: 1.1rem;
            }

            .footer-links a {
                font-size: 0.85rem;
            }

            .social-icon {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 380px) {
            .page-title {
                font-size: 1.7rem;
            }

            .chat-modal {
                width: calc(100vw - 15px) !important;
                height: 450px !important;
            }

            .therapist-card {
                transform: scale(0.9);
                padding: 15px;
            }

            .therapist-photo {
                width: 70px !important;
                height: 70px !important;
                border-radius: 50% !important;
                object-fit: cover !important;
                aspect-ratio: 1 / 1 !important;
            }
        }
    </style>
</head>
<body>
    <div class="cursor"></div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <a href="index.html" class="logo">MindEase</a>
        <ul class="nav-links">
            <li><a href="home.html" class="nav-link">Home</a></li>
            <li><a href="wellness%20tools.html" class="nav-link">Tools</a></li>
            <li><a href="therapist.html" class="nav-link active">Therapists</a></li>
            <li><a href="about%20us.html" class="nav-link">About</a></li>
        </ul>
        <a href="crisis.html" class="cta-button">Get Help Now</a>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
        <h1 class="page-title">Professional Therapists</h1>
        <p class="page-subtitle">Connect with licensed mental health professionals who specialize in various therapeutic approaches and can provide personalized support for your mental health journey.</p>
    </header>

    <!-- Filters Section -->
    <div class="filters-container">
        <div class="filters-section">
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Specialty</label>
                    <select class="filter-select" id="specialtyFilter">
                        <option value="">All Specialties</option>
                        <option value="anxiety">Anxiety & Panic Disorders</option>
                        <option value="depression">Depression & Mood Disorders</option>
                        <option value="trauma">Trauma & PTSD</option>
                        <option value="relationships">Relationship Counseling</option>
                        <option value="addiction">Addiction & Recovery</option>
                        <option value="family">Family Therapy</option>
                        <option value="adolescent">Adolescent Therapy</option>
                        <option value="cognitive">Cognitive Behavioral Therapy</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Session Type</label>
                    <select class="filter-select" id="sessionFilter">
                        <option value="">All Types</option>
                        <option value="in-person">In-Person</option>
                        <option value="virtual">Virtual/Online</option>
                        <option value="both">Both Available</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Language</label>
                    <select class="filter-select" id="languageFilter">
                        <option value="">All Languages</option>
                        <option value="english">English</option>
                        <option value="spanish">Spanish</option>
                        <option value="french">French</option>
                        <option value="mandarin">Mandarin</option>
                        <option value="german">German</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Availability</label>
                    <select class="filter-select" id="availabilityFilter">
                        <option value="">Any Time</option>
                        <option value="immediate">Available This Week</option>
                        <option value="soon">Available Within 2 Weeks</option>
                        <option value="flexible">Flexible Scheduling</option>
                    </select>
                </div>
            </div>
            <div class="filter-actions">
                <button class="filter-button primary" onclick="applyFilters()">
                    <i class="fas fa-search"></i> Apply Filters
                </button>
                <button class="filter-button secondary" onclick="clearFilters()">
                    <i class="fas fa-times"></i> Clear All
                </button>
            </div>
        </div>
    </div>

    <!-- Therapists Container -->
    <main class="therapists-container">
        <div class="therapists-grid" id="therapistsGrid">
            <!-- Therapist cards will be dynamically generated -->
        </div>
    </main>

    <!-- AI Chatbot -->
    <div class="ai-chatbot" onclick="toggleChat()">
        <i class="fas fa-robot" id="chatbotIcon"></i>
    </div>

    <!-- Chat Modal -->
    <div class="chat-modal" id="chatModal">
        <div class="chat-header">
            <div>
                <div class="chat-title">
                    <i class="fas fa-robot" style="margin-right: 10px; color: var(--accent-teal);"></i>
                    AI Therapy Advisor
                </div>
                <div class="chat-status" id="chatStatus">Ready to help you find the right therapist</div>
            </div>
            <button class="chat-close" onclick="toggleChat()">&times;</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="chat-message ai">
                <p>Hello! I'm here to help you find the perfect therapist for your needs. I can provide guidance on choosing the right specialist, understanding different therapy approaches, and answer any questions about mental health support. What would you like to know?</p>
            </div>
        </div>
        <div class="typing-indicator" id="typingIndicator">
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>
        <div class="chat-input-container">
            <textarea class="chat-input" id="chatInput" placeholder="Ask about finding the right therapist..." rows="1" maxlength="500"></textarea>
            <button class="chat-send" id="chatSend" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- AI Insights Panel -->
    <div class="ai-insights" id="aiInsights">
        <div id="insightContent"></div>
    </div>

    <!-- Booking Modal -->
    <div class="booking-modal" id="bookingModal">
        <div class="booking-content">
            <div class="booking-header">
                <h3 class="booking-title" id="bookingTitle">Book Appointment</h3>
                <button class="booking-close" onclick="closeBooking()">&times;</button>
            </div>
            <form class="booking-form" id="bookingForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">First Name *</label>
                        <input type="text" class="form-input" id="firstName" placeholder="Your first name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Last Name *</label>
                        <input type="text" class="form-input" id="lastName" placeholder="Your last name" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email Address *</label>
                    <input type="email" class="form-input" id="email" placeholder="your.email@example.com" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Phone Number *</label>
                    <input type="tel" class="form-input" id="phone" placeholder="(555) 123-4567" required>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Preferred Date</label>
                        <input type="date" class="form-input" id="preferredDate" min="">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Preferred Time</label>
                        <select class="form-input" id="preferredTime">
                            <option value="">Select time</option>
                            <option value="09:00">9:00 AM</option>
                            <option value="10:00">10:00 AM</option>
                            <option value="11:00">11:00 AM</option>
                            <option value="13:00">1:00 PM</option>
                            <option value="14:00">2:00 PM</option>
                            <option value="15:00">3:00 PM</option>
                            <option value="16:00">4:00 PM</option>
                            <option value="17:00">5:00 PM</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Session Type</label>
                    <select class="form-input" id="sessionType">
                        <option value="in-person">In-Person</option>
                        <option value="virtual">Virtual/Online</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Reason for Visit</label>
                    <textarea class="form-input form-textarea" id="reasonForVisit" placeholder="Please briefly describe what you'd like to work on (optional but helpful for preparation)"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Additional Notes</label>
                    <textarea class="form-input form-textarea" id="additionalNotes" placeholder="Any specific preferences or questions you'd like to mention?"></textarea>
                </div>
                
                <div class="booking-actions">
                    <button type="button" class="therapist-button secondary" onclick="closeBooking()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="submit" class="therapist-button primary">
                        <i class="fas fa-calendar-check"></i> Book Appointment
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-wave"></div>
        <div class="footer-main">
            <div class="footer-content">
                <!-- Therapist Network Section -->
                <div class="footer-section footer-brand">
                    <div class="footer-logo">Professional Network</div>
                    <p class="footer-description">
                        Connect with our carefully vetted network of licensed mental health professionals. Every therapist in our network is committed to providing compassionate, evidence-based care tailored to your unique needs.
                    </p>
                    
                    <div class="therapist-stats">
                        <div class="stat-item">
                            <span class="stat-number">500+</span>
                            <span class="stat-label">Licensed Therapists</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">50+</span>
                            <span class="stat-label">Specialties</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">24/7</span>
                            <span class="stat-label">Support</span>
                        </div>
                    </div>
                </div>

                <!-- Specialties -->
                <div class="footer-section">
                    <h3> Specialties</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-heart"></i> Anxiety & Depression</a></li>
                        <li><a href="#"><i class="fas fa-users"></i> Relationship Counseling</a></li>
                        <li><a href="#"><i class="fas fa-shield-alt"></i> Trauma & PTSD</a></li>
                        <li><a href="#"><i class="fas fa-family"></i> Family Therapy</a></li>
                        <li><a href="#"><i class="fas fa-brain"></i> Cognitive Behavioral</a></li>
                        <li><a href="#"><i class="fas fa-child"></i> Child & Adolescent</a></li>
                    </ul>
                </div>

                <!-- Resources -->
                <div class="footer-section">
                    <h3> Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-question-circle"></i> Therapy FAQs</a></li>
                        <li><a href="#"><i class="fas fa-file-medical"></i> Insurance Guide</a></li>
                        <li><a href="#"><i class="fas fa-book-open"></i> Therapy Types</a></li>
                        <li><a href="#"><i class="fas fa-clipboard-check"></i> Preparation Tips</a></li>
                        <li><a href="#"><i class="fas fa-comments"></i> What to Expect</a></li>
                        <li><a href="#"><i class="fas fa-phone"></i> Crisis Resources</a></li>
                    </ul>
                </div>

                <!-- Support -->
                <div class="footer-section">
                    <h3> Support</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-headset"></i> Help Center</a></li>
                        <li><a href="#"><i class="fas fa-calendar-alt"></i> Booking Support</a></li>
                        <li><a href="#"><i class="fas fa-credit-card"></i> Payment Help</a></li>
                        <li><a href="#"><i class="fas fa-user-shield"></i> Privacy & Safety</a></li>
                        <li><a href="#"><i class="fas fa-star"></i> Leave Review</a></li>
                        <li><a href="#"><i class="fas fa-envelope"></i> Contact Us</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 MindEase Therapist Network. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Global variables
        let therapistsData = [];
        let filteredTherapists = [];
        let currentBookingTherapist = null;
        let chatOpen = false;
        let isTyping = false;

        // Advanced AI Companion System - Therapist-focused
        class TherapistAICompanion {
            constructor() {
                this.conversationHistory = [];
                this.userContext = {
                    name: null,
                    lookingFor: null,
                    preferences: [],
                    sessionStart: Date.now(),
                    lastActivity: Date.now(),
                    currentConcerns: [],
                    therapyExperience: 'unknown',
                    preferredApproach: null
                };
                
                this.therapyKnowledge = {
                    approaches: {
                        'cbt': 'Cognitive Behavioral Therapy focuses on identifying and changing negative thought patterns and behaviors.',
                        'dbt': 'Dialectical Behavior Therapy combines CBT with mindfulness and emotional regulation skills.',
                        'psychodynamic': 'Psychodynamic therapy explores how unconscious thoughts and past experiences affect current behavior.',
                        'humanistic': 'Humanistic therapy emphasizes personal growth, self-acceptance, and the therapeutic relationship.',
                        'emdr': 'EMDR (Eye Movement Desensitization and Reprocessing) is particularly effective for trauma and PTSD.',
                        'family': 'Family therapy addresses relationship dynamics and communication patterns within family systems.'
                    },
                    
                    specialties: {
                        'anxiety': 'Anxiety specialists use evidence-based approaches like CBT, exposure therapy, and mindfulness techniques.',
                        'depression': 'Depression treatment often combines therapy approaches with focus on mood regulation and behavioral activation.',
                        'trauma': 'Trauma therapists are specially trained in approaches like EMDR, CPT, and trauma-informed care.',
                        'relationships': 'Relationship counselors help couples and families improve communication and resolve conflicts.',
                        'addiction': 'Addiction specialists use motivational interviewing, CBT, and support group integration.',
                        'adolescent': 'Teen therapists understand developmental needs and use age-appropriate therapeutic techniques.'
                    },
                    
                    matchingFactors: [
                        'therapeutic approach compatibility',
                        'specialty area match',
                        'communication style preferences',
                        'cultural background considerations',
                        'session format preferences',
                        'scheduling flexibility',
                        'insurance and cost factors'
                    ]
                };

                this.responseStrategies = {
                    guidance: [
                        "When choosing a therapist, it's important to consider", "A good match typically involves",
                        "Many people find it helpful to look for", "Research shows that the best outcomes happen when"
                    ],
                    support: [
                        "It's completely normal to feel nervous about starting therapy", "Taking this step shows real courage",
                        "Finding the right therapist is a process, and it's okay to take your time", "Your comfort and trust are the most important factors"
                    ],
                    education: [
                        "Different therapy approaches work better for different concerns", "Here's what you should know about",
                        "Many people benefit from understanding", "It might help to know that"
                    ]
                };
            }

            generateResponse(message) {
                const analysis = this.analyzeTherapyMessage(message);
                this.updateTherapyContext(analysis, message);
                return this.createTherapyResponse(message, analysis);
            }

            analyzeTherapyMessage(message) {
                const lowerMessage = message.toLowerCase();
                
                return {
                    intent: this.detectTherapyIntent(lowerMessage),
                    concerns: this.extractConcerns(lowerMessage),
                    preferences: this.extractPreferences(lowerMessage),
                    questions: this.identifyTherapyQuestions(lowerMessage),
                    experience: this.assessTherapyExperience(lowerMessage),
                    urgency: this.assessUrgency(lowerMessage),
                    sentiment: this.analyzeSentiment(lowerMessage)
                };
            }

            detectTherapyIntent(message) {
                const intents = {
                    'find_therapist': ['find therapist', 'looking for', 'need help finding', 'recommend', 'suggest'],
                    'learn_about_therapy': ['what is', 'how does', 'explain', 'tell me about', 'types of therapy'],
                    'booking_help': ['book', 'appointment', 'schedule', 'availability', 'when can'],
                    'cost_insurance': ['cost', 'price', 'insurance', 'afford', 'expensive', 'payment'],
                    'specialty_question': ['anxiety', 'depression', 'trauma', 'relationship', 'family', 'addiction'],
                    'first_time': ['first time', 'never been', 'new to therapy', 'scared', 'nervous']
                };

                for (const [intent, keywords] of Object.entries(intents)) {
                    if (keywords.some(keyword => message.includes(keyword))) {
                        return intent;
                    }
                }
                return 'general_support';
            }

            extractConcerns(message) {
                const concerns = {
                    'anxiety': ['anxiety', 'anxious', 'panic', 'worried', 'nervous'],
                    'depression': ['depressed', 'sad', 'down', 'hopeless', 'depression'],
                    'trauma': ['trauma', 'ptsd', 'abuse', 'assault', 'accident'],
                    'relationships': ['relationship', 'marriage', 'couples', 'partner', 'dating'],
                    'family': ['family', 'parents', 'children', 'siblings', 'divorce'],
                    'work': ['work', 'job', 'career', 'stress', 'burnout'],
                    'self_esteem': ['confidence', 'self-esteem', 'self-worth', 'insecure']
                };

                const detectedConcerns = [];
                for (const [concern, keywords] of Object.entries(concerns)) {
                    if (keywords.some(keyword => message.includes(keyword))) {
                        detectedConcerns.push(concern);
                    }
                }
                return detectedConcerns;
            }

            extractPreferences(message) {
                const preferences = {
                    'session_type': {
                        'online': ['online', 'virtual', 'video', 'remote'],
                        'in_person': ['in person', 'face to face', 'office', 'in-person']
                    },
                    'gender': {
                        'female': ['female therapist', 'woman therapist', 'she/her'],
                        'male': ['male therapist', 'man therapist', 'he/him']
                    },
                    'approach': {
                        'cbt': ['cbt', 'cognitive behavioral'],
                        'dbt': ['dbt', 'dialectical behavior'],
                        'psychodynamic': ['psychodynamic', 'psychoanalytic'],
                        'humanistic': ['humanistic', 'person-centered'],
                        'emdr': ['emdr', 'eye movement']
                    }
                };

                const detectedPreferences = {};
                for (const [prefType, options] of Object.entries(preferences)) {
                    for (const [option, keywords] of Object.entries(options)) {
                        if (keywords.some(keyword => message.includes(keyword))) {
                            detectedPreferences[prefType] = option;
                        }
                    }
                }
                return detectedPreferences;
            }

            identifyTherapyQuestions(message) {
                const questionTypes = {
                    'approach_comparison': ['difference between', 'vs', 'better than', 'compare'],
                    'what_to_expect': ['what happens', 'what to expect', 'first session'],
                    'effectiveness': ['does it work', 'effective', 'success rate', 'results'],
                    'duration': ['how long', 'how many sessions', 'duration'],
                    'preparation': ['how to prepare', 'what to bring', 'get ready']
                };

                const detectedQuestions = [];
                for (const [qType, keywords] of Object.entries(questionTypes)) {
                    if (keywords.some(keyword => message.includes(keyword))) {
                        detectedQuestions.push(qType);
                    }
                }
                return detectedQuestions;
            }

            assessTherapyExperience(message) {
                if (message.includes('first time') || message.includes('never been') || message.includes('new to therapy')) {
                    return 'first_time';
                }
                if (message.includes('before') || message.includes('previous') || message.includes('last therapist')) {
                    return 'experienced';
                }
                return 'unknown';
            }

            createTherapyResponse(message, analysis) {
                let response = "";

                // Handle specific intents
                switch (analysis.intent) {
                    case 'find_therapist':
                        response = this.generateTherapistRecommendation(analysis);
                        break;
                    case 'learn_about_therapy':
                        response = this.generateTherapyEducation(analysis);
                        break;
                    case 'booking_help':
                        response = this.generateBookingGuidance(analysis);
                        break;
                    case 'cost_insurance':
                        response = this.generateCostInformation(analysis);
                        break;
                    case 'first_time':
                        response = this.generateFirstTimeSupport(analysis);
                        break;
                    default:
                        response = this.generateGeneralTherapySupport(analysis);
                }

                return response;
            }

            generateTherapistRecommendation(analysis) {
                let response = "I'd be happy to help you find the right therapist! ";
                
                if (analysis.concerns.length > 0) {
                    const concern = analysis.concerns[0];
                    response += `Since you mentioned ${concern}, I'd recommend looking for therapists who specialize in ${this.therapyKnowledge.specialties[concern]} `;
                }

                if (analysis.preferences.session_type) {
                    response += `I see you're interested in ${analysis.preferences.session_type} sessions, which is great - many of our therapists offer that option. `;
                }

                response += "What's most important to you in a therapeutic relationship? This will help me give you more specific recommendations.";
                return response;
            }

            generateTherapyEducation(analysis) {
                if (analysis.questions.includes('approach_comparison')) {
                    return "Different therapy approaches each have unique strengths. CBT focuses on thought patterns, DBT adds emotion regulation skills, while psychodynamic explores deeper unconscious patterns. The best approach depends on your specific needs and what resonates with you. Would you like me to explain any particular approach in more detail?";
                }
                
                return "Therapy is a collaborative process where you work with a trained professional to understand and address your concerns. The most important factor is finding someone you feel comfortable with and who specializes in your area of need. What specific aspect of therapy would you like to know more about?";
            }

            generateBookingGuidance(analysis) {
                return "Booking with the right therapist is an important step! Most of our therapists offer a brief consultation call before your first session to ensure it's a good fit. You can book directly through their profiles, and many have availability within 1-2 weeks. Is there a particular therapist you're interested in, or would you like help narrowing down your options first?";
            }

            generateCostInformation(analysis) {
                return "I understand cost is an important consideration. Many of our therapists accept insurance, and we also have therapists who offer sliding scale fees based on income. Session costs typically range from $80-200, but with insurance, your copay might be much lower. I'd recommend checking with both the therapist and your insurance provider. Would you like me to help you find therapists who work with your insurance?";
            }

            generateFirstTimeSupport(analysis) {
                return "It's completely natural to feel nervous about starting therapy - that shows you're taking this important step seriously! Most first sessions involve getting to know each other, discussing what brought you to therapy, and setting some initial goals. There's no pressure to share everything right away. The most important thing is finding someone you feel comfortable talking to. What concerns do you have about starting therapy?";
            }

            generateGeneralTherapySupport(analysis) {
                const supportResponses = [
                    "I'm here to help you navigate finding the right therapeutic support. What questions do you have about the process?",
                    "Taking the step to seek therapy is really courageous. How can I best support you in finding the right match?",
                    "Everyone's therapy journey is unique. What's most important to you as you think about starting or continuing therapy?",
                    "I want to make sure you feel confident and informed about your therapy options. What would be most helpful to discuss?"
                ];
                
                return supportResponses[Math.floor(Math.random() * supportResponses.length)];
            }

            generateInsight() {
                const insights = [
                    " The therapeutic relationship is often the most important factor in successful therapy outcomes.",
                    " It's okay to 'shop around' - finding the right therapist fit is crucial for your progress.",
                    " Many people find that therapy becomes easier and more beneficial after the first few sessions.",
                    " Different therapy approaches work better for different concerns - there's no one-size-fits-all solution.",
                    " Your comfort and trust with your therapist matters more than any specific credential or technique.",
                    " Therapy is an investment in yourself - the skills you learn will benefit you for life.",
                    " It's normal to feel nervous before starting therapy - this feeling usually decreases quickly.",
                    " Being open to the process, even when it's challenging, often leads to the best outcomes."
                ];

                return insights[Math.floor(Math.random() * insights.length)];
            }
        }

        // Initialize the therapist AI companion
        const therapistAI = new TherapistAICompanion();

        // Sample therapist data
        const sampleTherapists = [
            {
                id: 1,
                name: "Dr. Sarah Chen",
                credentials: "PhD, Licensed Clinical Psychologist",
                avatar: "SC",
                rating: 4.9,
                reviewCount: 127,
                specialties: ["anxiety", "depression", "cognitive"],
                description: "I specialize in helping individuals overcome anxiety and depression through evidence-based cognitive behavioral therapy. My approach is warm, collaborative, and focused on practical solutions.",
                sessionTypes: ["both"],
                languages: ["english", "mandarin"],
                availability: "immediate",
                experience: "12 years",
                location: "Downtown Medical Center",
                rate: "$150/session",
                nextAvailable: "This week"
            },
            {
                id: 2,
                name: "Dr. Michael Rodriguez",
                credentials: "LMFT, MA in Marriage & Family Therapy",
                avatar: "MR",
                rating: 4.8,
                reviewCount: 89,
                specialties: ["relationships", "family", "trauma"],
                description: "I work with couples and families to improve communication, resolve conflicts, and heal from trauma. My approach integrates systemic and trauma-informed care.",
                sessionTypes: ["in-person", "virtual"],
                languages: ["english", "spanish"],
                availability: "soon",
                experience: "8 years",
                location: "Family Wellness Clinic",
                rate: "$120/session",
                nextAvailable: "Next week"
            },
            {
                id: 3,
                name: "Dr. Emily Thompson",
                credentials: "LCSW, Trauma Specialist",
                avatar: "ET",
                rating: 4.9,
                reviewCount: 156,
                specialties: ["trauma", "anxiety", "adolescent"],
                description: "I specialize in trauma recovery using EMDR and other evidence-based approaches. I work with both adults and adolescents in a safe, supportive environment.",
                sessionTypes: ["both"],
                languages: ["english"],
                availability: "flexible",
                experience: "15 years",
                location: "Healing Center North",
                rate: "$175/session",
                nextAvailable: "Within 2 weeks"
            },
            {
                id: 4,
                name: "Dr. James Wilson",
                credentials: "PhD, Addiction Specialist",
                avatar: "JW",
                rating: 4.7,
                reviewCount: 203,
                specialties: ["addiction", "depression", "family"],
                description: "I help individuals and families navigate addiction recovery with compassion and evidence-based treatment approaches including CBT and motivational interviewing.",
                sessionTypes: ["in-person"],
                languages: ["english"],
                availability: "immediate",
                experience: "20 years",
                location: "Recovery Center West",
                rate: "$140/session",
                nextAvailable: "This week"
            },
            {
                id: 5,
                name: "Dr. Lisa Park",
                credentials: "LMHC, DBT Certified",
                avatar: "LP",
                rating: 4.8,
                reviewCount: 94,
                specialties: ["anxiety", "depression", "adolescent"],
                description: "I specialize in Dialectical Behavior Therapy (DBT) and work with teens and adults struggling with emotional regulation, anxiety, and depression.",
                sessionTypes: ["virtual"],
                languages: ["english"],
                availability: "soon",
                experience: "10 years",
                location: "Online Practice",
                rate: "$130/session",
                nextAvailable: "Next week"
            },
            {
                id: 6,
                name: "Dr. Ahmed Hassan",
                credentials: "MD, Psychiatrist",
                avatar: "AH",
                rating: 4.9,
                reviewCount: 178,
                specialties: ["depression", "anxiety", "cognitive"],
                description: "As a psychiatrist, I provide both therapy and medication management with a holistic approach to mental health care, focusing on the whole person.",
                sessionTypes: ["both"],
                languages: ["english", "french"],
                availability: "flexible",
                experience: "18 years",
                location: "Medical Plaza",
                rate: "$200/session",
                nextAvailable: "Flexible scheduling"
            }
        ];

        // Initialize therapists data
        therapistsData = sampleTherapists;
        filteredTherapists = [...therapistsData];

        // High-performance custom cursor functionality (same as tools page)
        const cursor = document.querySelector('.cursor');
        let mouseX = 0, mouseY = 0;

        function updateCursor(e) {
            mouseX = e.clientX;
            mouseY = e.clientY;
            cursor.style.transform = `translate3d(${mouseX}px, ${mouseY}px, 0)`;
        }

        document.addEventListener('mousemove', updateCursor, { passive: true });

        // Enhanced cursor effects
        function addCursorEffects() {
            document.querySelectorAll('button, a, .therapist-card, .ai-chatbot, .nav-link, .logo').forEach(element => {
                element.addEventListener('mouseenter', () => {
                    cursor.classList.add('hover');
                    cursor.classList.remove('text');
                });
                element.addEventListener('mouseleave', () => {
                    cursor.classList.remove('hover');
                    cursor.classList.remove('text');
                });
            });

            document.querySelectorAll('input, textarea, select').forEach(element => {
                element.addEventListener('mouseenter', () => {
                    cursor.classList.add('text');
                    cursor.classList.remove('hover');
                });
                element.addEventListener('mouseleave', () => {
                    cursor.classList.remove('text');
                    cursor.classList.remove('hover');
                });
            });
        }

        // Click effects
        function createClickEffect(x, y) {
            const clickEffect = document.createElement('div');
            clickEffect.className = 'click-effect';
            clickEffect.style.left = x + 'px';
            clickEffect.style.top = y + 'px';

            const ripple = document.createElement('div');
            ripple.className = 'click-ripple';
            ripple.style.left = '-10px';
            ripple.style.top = '-10px';
            ripple.style.width = '20px';
            ripple.style.height = '20px';

            const burst = document.createElement('div');
            burst.className = 'click-burst';
            burst.style.left = '-10px';
            burst.style.top = '-10px';

            clickEffect.appendChild(ripple);
            clickEffect.appendChild(burst);
            document.body.appendChild(clickEffect);

            cursor.classList.add('clicking');

            setTimeout(() => {
                if (clickEffect.parentNode) {
                    clickEffect.parentNode.removeChild(clickEffect);
                }
                cursor.classList.remove('clicking');
            }, 800);
        }

        document.addEventListener('click', (e) => {
            createClickEffect(e.clientX, e.clientY);
        });

        // Render therapists
        function renderTherapists(therapists = filteredTherapists) {
            const grid = document.getElementById('therapistsGrid');
            
            if (therapists.length === 0) {
                grid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 60px 20px;">
                        <i class="fas fa-search" style="font-size: 3rem; color: var(--text-secondary); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--text-primary); margin-bottom: 10px;">No therapists found</h3>
                        <p style="color: var(--text-secondary);">Try adjusting your filters or search criteria</p>
                        <button class="filter-button primary" onclick="clearFilters()" style="margin-top: 20px;">
                            <i class="fas fa-refresh"></i> Clear Filters
                        </button>
                    </div>
                `;
                return;
            }

            grid.innerHTML = therapists.map(therapist => `
                <div class="therapist-card">
                    <div class="therapist-header">
                        <div class="therapist-avatar">
                            ${therapist.avatar}
                        </div>
                        <div class="therapist-info">
                            <h3>${therapist.name}</h3>
                            <div class="therapist-credentials">${therapist.credentials}</div>
                            <div class="therapist-rating">
                                ${generateStars(therapist.rating)}
                                <span>${therapist.rating}</span>
                                <span style="color: var(--text-secondary);">(${therapist.reviewCount} reviews)</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="therapist-specialties">
                        <div class="specialty-tags">
                            ${therapist.specialties.map(specialty => `
                                <span class="specialty-tag">${formatSpecialty(specialty)}</span>
                            `).join('')}
                        </div>
                    </div>
                    
                    <p class="therapist-description">${therapist.description}</p>
                    
                    <div class="therapist-details">
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>${therapist.experience} experience</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-calendar-check"></i>
                            <span>${therapist.nextAvailable}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>${therapist.location}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-dollar-sign"></i>
                            <span>${therapist.rate}</span>
                        </div>
                    </div>
                    
                    <div class="therapist-actions">
                        <button class="therapist-button primary" onclick="bookAppointment(${therapist.id})">
                            <i class="fas fa-calendar-plus"></i> Book Appointment
                        </button>
                        <button class="therapist-button secondary" onclick="viewProfile(${therapist.id})">
                            <i class="fas fa-user"></i> View Profile
                        </button>
                        <button class="therapist-button secondary" onclick="contactTherapist(${therapist.id})">
                            <i class="fas fa-envelope"></i> Contact
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            let stars = '';
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            return stars;
        }

        function formatSpecialty(specialty) {
            const specialtyMap = {
                'anxiety': 'Anxiety',
                'depression': 'Depression',
                'trauma': 'Trauma & PTSD',
                'relationships': 'Relationships',
                'family': 'Family Therapy',
                'addiction': 'Addiction',
                'adolescent': 'Teen Therapy',
                'cognitive': 'CBT'
            };
            return specialtyMap[specialty] || specialty;
        }

        // Filter functions
        function applyFilters() {
            const specialty = document.getElementById('specialtyFilter').value;
            const sessionType = document.getElementById('sessionFilter').value;
            const language = document.getElementById('languageFilter').value;
            const availability = document.getElementById('availabilityFilter').value;

            filteredTherapists = therapistsData.filter(therapist => {
                const matchesSpecialty = !specialty || therapist.specialties.includes(specialty);
                const matchesSession = !sessionType || 
                    therapist.sessionTypes.includes(sessionType) || 
                    therapist.sessionTypes.includes('both');
                const matchesLanguage = !language || therapist.languages.includes(language);
                const matchesAvailability = !availability || therapist.availability === availability;

                return matchesSpecialty && matchesSession && matchesLanguage && matchesAvailability;
            });

            renderTherapists();
            showNotification(`Found ${filteredTherapists.length} therapists matching your criteria`);
        }

        function clearFilters() {
            document.getElementById('specialtyFilter').value = '';
            document.getElementById('sessionFilter').value = '';
            document.getElementById('languageFilter').value = '';
            document.getElementById('availabilityFilter').value = '';
            
            filteredTherapists = [...therapistsData];
            renderTherapists();
            showNotification('Filters cleared - showing all therapists');
        }

        // Booking functions
        function bookAppointment(therapistId) {
            const therapist = therapistsData.find(t => t.id === therapistId);
            currentBookingTherapist = therapist;
            
            document.getElementById('bookingTitle').textContent = `Book with ${therapist.name}`;
            document.getElementById('bookingModal').classList.add('show');
            document.body.style.overflow = 'hidden';
            
            // Set minimum date to tomorrow
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('preferredDate').min = tomorrow.toISOString().split('T')[0];
        }

        function closeBooking() {
            document.getElementById('bookingModal').classList.remove('show');
            document.body.style.overflow = 'auto';
            currentBookingTherapist = null;
            document.getElementById('bookingForm').reset();
        }

        function viewProfile(therapistId) {
            const therapist = therapistsData.find(t => t.id === therapistId);
            showNotification(`Opening ${therapist.name}'s full profile...`);
            // In a real app, this would navigate to a detailed profile page
        }

        function contactTherapist(therapistId) {
            const therapist = therapistsData.find(t => t.id === therapistId);
            showNotification(`Opening contact form for ${therapist.name}...`);
            // In a real app, this would open a contact modal or form
        }

        // Chat functionality
        function toggleChat() {
            const chatModal = document.getElementById('chatModal');
            const chatStatus = document.getElementById('chatStatus');
            
            chatOpen = !chatOpen;
            
            if (chatOpen) {
                chatModal.classList.add('show');
                document.getElementById('chatInput').focus();
                chatStatus.textContent = 'Ready to help you find the right therapist';
                
                showInsight();
                setInterval(showInsight, 30000);
            } else {
                chatModal.classList.remove('show');
                hideInsight();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const sendButton = document.getElementById('chatSend');
            const message = input.value.trim();
            
            if (!message || isTyping) return;
            
            input.disabled = true;
            sendButton.disabled = true;
            isTyping = true;
            
            document.getElementById('chatStatus').textContent = 'Analyzing your needs...';
            
            addChatMessage(message, 'user');
            input.value = '';
            
            showTypingIndicator();
            document.querySelector('.ai-chatbot').classList.add('thinking');
            
            const responseTime = Math.random() * 2000 + 2000;
            
            setTimeout(() => {
                hideTypingIndicator();
                document.querySelector('.ai-chatbot').classList.remove('thinking');
                
                const response = therapistAI.generateResponse(message);
                addChatMessage(response, 'ai');
                
                input.disabled = false;
                sendButton.disabled = false;
                isTyping = false;
                input.focus();
                
                document.getElementById('chatStatus').textContent = 'Ready to help you find the right therapist';
                input.style.height = 'auto';
                
                setTimeout(showInsight, 3000);
            }, responseTime);
        }

        function addChatMessage(message, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            messageDiv.innerHTML = `<p>${message}</p>`;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            const chatMessages = document.getElementById('chatMessages');
            typingIndicator.style.display = 'block';
            chatMessages.appendChild(typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            typingIndicator.style.display = 'none';
        }

        function showInsight() {
            const insightsPanel = document.getElementById('aiInsights');
            const insightContent = document.getElementById('insightContent');
            
            const insight = therapistAI.generateInsight();
            insightContent.innerHTML = insight;
            insightsPanel.classList.add('show');
            
            setTimeout(() => {
                insightsPanel.classList.remove('show');
            }, 8000);
        }

        function hideInsight() {
            const insightsPanel = document.getElementById('aiInsights');
            insightsPanel.classList.remove('show');
        }

        function showNotification(message, duration = 4000) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }

        function autoResizeTextarea(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 80) + 'px';
        }

        // Navbar scroll effects
        let scrollThrottled = false;
        window.addEventListener('scroll', () => {
            if (!scrollThrottled) {
                scrollThrottled = true;
                requestAnimationFrame(() => {
                    const navbar = document.getElementById('navbar');
                    if (window.scrollY > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }
                    scrollThrottled = false;
                });
            }
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Render initial therapists
            renderTherapists();
            
            // Add cursor effects
            addCursorEffects();
            
            // Handle textarea auto-resize and enter key for chat
            const chatInput = document.getElementById('chatInput');
            
            chatInput.addEventListener('input', function() {
                autoResizeTextarea(this);
            });

            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            // Handle booking form submission
            document.getElementById('bookingForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = {
                    therapist: currentBookingTherapist.name,
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    preferredDate: document.getElementById('preferredDate').value,
                    preferredTime: document.getElementById('preferredTime').value,
                    sessionType: document.getElementById('sessionType').value,
                    reasonForVisit: document.getElementById('reasonForVisit').value,
                    additionalNotes: document.getElementById('additionalNotes').value
                };
                
                // In a real app, this would send the data to a server
                console.log('Booking submitted:', formData);
                
                showNotification(`Appointment request sent to ${currentBookingTherapist.name}! You'll receive a confirmation email shortly.`, 6000);
                closeBooking();
            });

            // Close modals when clicking outside
            document.addEventListener('click', function(e) {
                const chatModal = document.getElementById('chatModal');
                const bookingModal = document.getElementById('bookingModal');
                const aiChatbot = document.querySelector('.ai-chatbot');
                
                if (chatOpen && !chatModal.contains(e.target) && !aiChatbot.contains(e.target)) {
                    toggleChat();
                }
                
                if (e.target === bookingModal) {
                    closeBooking();
                }
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (chatOpen) {
                        toggleChat();
                    }
                    if (currentBookingTherapist) {
                        closeBooking();
                    }
                }
                
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    toggleChat();
                }
            });

            // Add staggered animations to therapist cards
            setTimeout(() => {
                const therapistCards = document.querySelectorAll('.therapist-card');
                therapistCards.forEach((card, index) => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(50px)';
                    
                    setTimeout(() => {
                        card.style.transition = 'all 0.8s ease';
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, index * 200);
                });
            }, 100);

            // Initialize AI companion with welcome insight
            setTimeout(() => {
                if (!chatOpen) {
                    showInsight();
                }
            }, 3000);
        });

        console.log(' MindEase Therapist Network loaded successfully!');
        console.log(' Features: Therapist profiles, filtering, booking, AI guidance, and more!');
        console.log(' AI Therapy Advisor ready to help you find the perfect therapist match!');
        console.log(' Pro tip: Press Ctrl+K (or Cmd+K) to quickly open the AI chat for personalized recommendations!');
    </script>
</body>
</html>
